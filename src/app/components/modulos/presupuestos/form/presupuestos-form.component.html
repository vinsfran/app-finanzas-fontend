<app-content-header
  [titulo]="titulo"
  [lista]="lista">
</app-content-header>

<section class="content">
  <div class="box box-primary">
    <div class="box-header with-border">
      <h3 class="box-title">Datos del Presupuesto</h3>
    </div>
    <!-- /.box-header -->
    <!-- form start -->
    <form role="form" #presupuestoForm="ngForm">
      <div class="box-body">

        <div class="form-group mb10 clearfix">
          <label for="mesId" class="col-sm-2">Mes</label>
          <div class="col-sm-10">
            <select class="form-control" id="mesId"
                    [(ngModel)]="presupuestoModel.mesId"
                    [ngModelOptions]="{standalone: true}">
              <option *ngFor="let mes of meses" [value]="mes.id">
                {{mes.nombre}}
              </option>
            </select>
          </div>
        </div>

        <div class="form-group mb10 clearfix">
          <label for="anio" class="col-sm-2">Año</label>
          <div class="col-sm-10">
            <input id="anio"
                   placeholder="Ingrese Año"
                   type="number"
                   class="form-control"
                   [(ngModel)]="presupuestoModel.anio"
                   name="anio"
                   #anio="ngModel">
          </div>
        </div>

        <div class="form-group mb10 clearfix">
          <label for="monto" class="col-sm-2">Monto</label>
          <div class="col-sm-10">
            <input id="monto"
                   placeholder="Ingrese monto"
                   type="number"
                   class="form-control"
                   [(ngModel)]="presupuestoModel.monto"
                   name="monto"
                   #monto="ngModel">
          </div>
        </div>

        <div class="form-group mb10 clearfix">
          <label for="monedaId" class="col-sm-2">Tipo de Moneda</label>
          <div class="col-sm-10">
            <select class="form-control" id="monedaId"
                    [(ngModel)]="presupuestoModel.monedaId"
                    [ngModelOptions]="{standalone: true}">
              <option *ngFor="let moneda of monedas" [value]="moneda.id">
                {{moneda.nombre }} - {{moneda.codigo}}
              </option>
            </select>
          </div>
        </div>

        <div class="form-group mb10 clearfix">
          <label for="porcentajeAlerta" class="col-sm-2">Procentaje de Alerta</label>
          <div class="col-sm-9">
            <input id="porcentajeAlerta"
                   type="range"
                   class="custom-range"
                   min="0" max="100" step="1"
                   [(ngModel)]="presupuestoModel.porcentajeAlerta"
                   [ngModelOptions]="{standalone: true}">
          </div>
          <div class="col-sm-1">
            <strong id="porcentajeAlerta2">{{presupuestoModel.porcentajeAlerta}} %</strong>
          </div>
        </div>
      </div>

      <!--{{presupuestoModel | json}}-->

      <!-- /.box-body -->
      <div class="box-footer">
        <button class="btn btn-secondary"
                (click)="back()"
                title="Cancelar"
                style="margin-right: 5px">
          Cancelar
        </button>

        <button class="btn btn-primary pull-right"
                role="button"
                (click)='create()'
                *ngIf="!presupuestoModel.id else elseBlock"
                [disabled]="!presupuestoForm.form.valid"
                style="margin-right: 5px">
          Guardar
        </button>
        <ng-template #elseBlock>
          <button class="btn btn-primary pull-right"
                  role="button"
                  (click)='update()'
                  [disabled]="!presupuestoForm.form.valid"
                  style="margin-right: 5px">
            Editar
          </button>
        </ng-template>
      </div>
    </form>
  </div>
</section>
